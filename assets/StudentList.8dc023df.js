import{_ as C,g as h,r as S,f as z,u as k,h as u,o as x,c as y,i as t,j as s,a as v,E as P,k as _}from"./index.8b11de85.js";const I={name:"StudentList",setup(){const l=h().appContext.config.globalProperties;let o=S({tableData:[],currentPage:1,pageSize:10,total:0,small:!1,disabled:!1,background:!1,formInline:{name:""}});z(()=>{r()});async function r(){let n=await l.$http.attr.reqStudents();n.status==200&&(n.data.forEach(e=>{e.sex===1?e.sex_text="\u7537":e.sex_text="\u5973",e.state==="1"?e.state_text="\u5DF2\u5165\u5B66":e.state==="2"?e.state_text="\u672A\u5165\u5B66":e.state_text="\u4F11\u5B66\u4E2D"}),o.tableData=n.data,o.total=n.total)}function g(n){o.pageSize=n,o.currentPage=1}function f(n){o.currentPage=n}async function c(n){(await l.$http.attr.reqStudentDel(n.id)).status==200&&(P.success("\u5220\u9664\u6210\u529F\uFF01"),r())}async function d(){let n=await l.$http.attr.reqStudentQue(o.formInline.name);n.status==200&&(n.data.forEach(e=>{e.sex===1?e.sex_text="\u7537":e.sex_text="\u5973",e.state==="1"?e.state_text="\u5DF2\u5165\u5B66":e.state==="2"?e.state_text="\u672A\u5165\u5B66":e.state_text="\u4F11\u5B66\u4E2D"}),o.tableData=n.data)}function p(){o.formInline={},r()}return{...k(o),handleSizeChange:g,handleCurrentChange:f,del:c,find:d,reset:p}}},D={class:"studentList"},w={class:"demo-pagination-block"};function V(a,l,o,r,g,f){const c=u("el-input"),d=u("el-form-item"),p=u("el-button"),n=u("el-form"),e=u("el-table-column"),m=u("el-table"),b=u("el-pagination");return x(),y("div",D,[t(n,{inline:!0,model:a.formInline,class:"demo-form-inline"},{default:s(()=>[t(d,null,{default:s(()=>[t(c,{modelValue:a.formInline.name,"onUpdate:modelValue":l[0]||(l[0]=i=>a.formInline.name=i),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D\u67E5\u8BE2"},null,8,["modelValue"])]),_:1}),t(d,null,{default:s(()=>[t(p,{type:"primary",onClick:r.find},{default:s(()=>[_("\u67E5\u8BE2")]),_:1},8,["onClick"])]),_:1}),t(d,null,{default:s(()=>[t(p,{type:"primary",onClick:r.reset},{default:s(()=>[_("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),t(m,{data:a.tableData.slice((a.currentPage-1)*a.pageSize,a.currentPage*a.pageSize),border:"",style:{width:"100%"}},{default:s(()=>[t(e,{prop:"name",label:"\u59D3\u540D",align:"center"}),t(e,{prop:"sex_text",label:"\u6027\u522B",align:"center"}),t(e,{prop:"age",label:"\u5E74\u9F84",align:"center"}),t(e,{prop:"number",label:"\u5B66\u53F7",align:"center"}),t(e,{prop:"class",label:"\u73ED\u7EA7",align:"center"}),t(e,{prop:"state_text",label:"\u72B6\u6001",align:"center"}),t(e,{prop:"address",label:"\u5730\u5740",align:"center"}),t(e,{prop:"phone",label:"\u8054\u7CFB\u65B9\u5F0F",align:"center"}),t(e,{label:"\u64CD\u4F5C",align:"center"},{default:s(i=>[t(p,{type:"danger",onClick:E=>r.del(i.row),icon:"DeleteFilled"},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),v("div",w,[t(b,{"current-page":a.currentPage,"onUpdate:current-page":l[1]||(l[1]=i=>a.currentPage=i),"page-size":a.pageSize,"onUpdate:page-size":l[2]||(l[2]=i=>a.pageSize=i),"page-sizes":[5,10,20,30,50],small:a.small,disabled:a.disabled,background:a.background,layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange},null,8,["current-page","page-size","small","disabled","background","total","onSizeChange","onCurrentChange"])])])}var q=C(I,[["render",V]]);export{q as default};
